<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Applied Linguistics Revision Game</title>
    <link rel="stylesheet" href="../css/style4.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h3>Applied Linguistics Revision Game</h3>
        </header>
         <a href="../module2/lesson-one.html" class="back-to-lesson-btn">Back to lesson</a>

        
        <div class="game-info">
            <div><i class="fas fa-star"></i> Score: <span id="score-value">0</span></div>
            <div><i class="fas fa-clock"></i> Time: <span id="time-value">60</span>s</div>
        </div>
        
        <div class="game-container">
            <div class="mode-selector">
                <button class="mode-btn active" data-mode="mcq">Multiple Choice</button>
                <button class="mode-btn" data-mode="true-false">True/False</button>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            
            <div class="question-card">
                <div class="question" id="question-text">Loading question...</div>
                <div id="game-content">
                    <!-- Dynamic content will go here -->
                </div>
                <div class="feedback" id="feedback"></div>
            </div>
            
            <div class="controls">
                <button class="btn next-btn" id="next-btn" disabled>Next Question</button>
                <button class="btn reset-btn" id="reset-btn">Reset Game</button>
            </div>
            

            

        </div>
        
        <footer>
            <p>Applied Linguistics Revision Tool | Based on Brumfit (1977), Spolsky (2005), Widdowson, and AAAL</p>
        </footer>
    </div>

    <script>
        // ===== QUESTION BANK =====
        const mcqQuestions =
        [
  {
    "question": "What is the primary focus of sociolinguistics?",
    "options": [
      "The neurological basis of language acquisition",
      "The relationship between language and society",
      "The historical evolution of writing systems",
      "The formal rules of syntactic structure"
    ],
    "correct": 1,
    "feedback": "Correct! Sociolinguistics is a sub-branch of linguistics that studies how language interacts with society, including how social factors like age, gender, class, and ethnicity influence language use."
  },
  {
    "question": "Which scholar is known for developing variationist sociolinguistics and emphasizing that 'the community is prior to the individual'?",
    "options": [
      "Dell Hymes",
      "Basil Bernstein",
      "William Labov",
      "Joshua Fishman"
    ],
    "correct": 2,
    "feedback": "Correct! William Labov pioneered variationist sociolinguistics, studying how social determinants like class and ethnicity are embedded in linguistic variation. His central dogma is that 'the community is prior to the individual' (Labov, 2010)."
  },
  {
    "question": "What did Dell Hymes contribute to sociolinguistics?",
    "options": [
      "The theory of restricted and elaborated codes",
      "The concept of communicative competence and social norms in communication",
      "The study of language death in multilingual societies",
      "The classification of English dialects by region"
    ],
    "correct": 1,
    "feedback": "Correct! Dell Hymes introduced 'communicative competence,' arguing that knowing a language involves more than grammar—it includes understanding social rules, context, and appropriate usage."
  },
  {
    "question": "Which concept is Joshua Fishman most associated with?",
    "options": [
      "Diglossia",
      "Interactional sociolinguistics",
      "Language planning and multilingualism",
      "Gender and tag questions"
    ],
    "correct": 2,
    "feedback": "Correct! Joshua Fishman focused on multilingualism, language maintenance, and language planning—especially how minority languages survive or decline in national contexts."
  },
  {
    "question": "What term describes the coexistence of two distinct language varieties in a society, each with separate functions?",
    "options": [
      "Code-switching",
      "Language shift",
      "Diglossia",
      "Sociolinguistic variation"
    ],
    "correct": 2,
    "feedback": "Correct! Charles Ferguson introduced 'diglossia' to describe situations where two varieties (e.g., Classical Arabic and colloquial Arabic) coexist, with one used in formal/religious contexts and the other in daily life."
  },
  {
    "question": "What is the main difference between micro- and macro-sociolinguistics?",
    "options": [
      "Micro studies writing systems; macro studies spoken language",
      "Micro focuses on individual speakers and conversations; macro examines societal patterns and language policies",
      "Micro deals with ancient languages; macro with modern ones",
      "Micro is qualitative; macro is always quantitative"
    ],
    "correct": 1,
    "feedback": "Correct! Micro-sociolinguistics investigates how social factors affect individual speech (e.g., gender and tag questions), while macro-sociolinguistics looks at large-scale phenomena like language dominance, policy, or globalization of English."
  },
  {
    "question": "Which example best illustrates micro-sociolinguistics?",
    "options": [
      "The spread of English as a global lingua franca",
      "Government policies on bilingual education",
      "Women using more tag questions than men in conversation",
      "Language extinction in indigenous communities"
    ],
    "correct": 2,
    "feedback": "Correct! This is a classic micro-sociolinguistic finding—analyzing how gender influences specific linguistic features (like tag questions) at the individual or conversational level."
  },
  {
    "question": "According to Basil Bernstein, what distinguishes 'elaborated code' from 'restricted code'?",
    "options": [
      "Elaborated code is used only in formal writing; restricted code is for spoken language",
      "Elaborated code is explicit and context-independent; restricted code relies on shared context",
      "Restricted code is grammatically incorrect; elaborated code is standard",
      "Elaborated code is used by men; restricted code by women"
    ],
    "correct": 1,
    "feedback": "Correct! Bernstein argued that the 'restricted code' assumes shared background knowledge (common in close-knit groups), while the 'elaborated code' is more explicit and self-contained—often used in formal education."
  },
  {
    "question": "Which social factor is associated with generational differences in slang, such as teenagers using 'lit' or 'salty'?",
    "options": [
      "Gender",
      "Ethnicity",
      "Age",
      "Region"
    ],
    "correct": 2,
    "feedback": "Correct! Age is a key social variable in sociolinguistics. Younger speakers often lead linguistic innovation, introducing new slang that may or may not persist into adulthood."
  },
  {
    "question": "What is a 'speech community'?",
    "options": [
      "Any group of people who speak the same national language",
      "A group that shares a language variety and norms for its appropriate use",
      "A classroom where only the target language is spoken",
      "A group of linguists studying language change"
    ],
    "correct": 1,
    "feedback": "Correct! A speech community is defined not by geography or nationality, but by shared linguistic norms and practices—e.g., doctors using medical jargon to signal professional identity."
  },
  {
    "question": "Which scholar emphasized conversational inference and interactional cues in cross-cultural communication?",
    "options": [
      "William Labov",
      "John Gumperz",
      "Charles Ferguson",
      "Whitney"
    ],
    "correct": 1,
    "feedback": "Correct! John Gumperz founded interactional sociolinguistics, showing how miscommunication arises when speakers interpret conversational cues (e.g., pauses, intonation) differently due to cultural background."
  },
  {
    "question": "Why is language variation considered essential in sociolinguistics?",
    "options": [
      "It proves that some speakers are linguistically deficient",
      "It reflects social identity, enables change, and is fundamental to language function",
      "It should be eliminated through standardized education",
      "It only occurs in multilingual societies"
    ],
    "correct": 1,
    "feedback": "Correct! Variation is not random error—it’s systematic, meaningful, and central to how speakers express identity, adapt to context, and drive language change over time."
  },
  {
    "question": "Which example illustrates regional variation in English?",
    "options": [
      "Women using more hedges like 'sort of' or 'maybe'",
      "Teenagers adopting new vocabulary faster than adults",
      "Use of 'soda,' 'pop,' or 'coke' depending on U.S. region",
      "Working-class speakers dropping /t/ in 'butter'"
    ],
    "correct": 2,
    "feedback": "Correct! Regional dialects in the U.S. show clear lexical differences—'soda' (Northeast), 'pop' (Midwest), 'coke' (South)—highlighting how geography shapes language use."
  },
  {
    "question": "What does Whitney’s (1867) statement 'Speech is not a personal possession, but a social' emphasize?",
    "options": [
      "Language is stored in the brain like private property",
      "Individuals create language independently",
      "Language belongs to the community and is shaped by social interaction",
      "Only governments can regulate language"
    ],
    "correct": 2,
    "feedback": "Correct! Whitney argued that language is a collective, social system—not owned or created by individuals. This aligns with Labov’s view that linguistic norms emerge from community practice."
  },
  {
    "question": "Which concept is most relevant to macro-sociolinguistics?",
    "options": [
      "Style-shifting in job interviews",
      "Politeness strategies in requests",
      "Language policy in post-colonial Algeria",
      "Phonetic variation in vowel pronunciation"
    ],
    "correct": 2,
    "feedback": "Correct! Language planning and policy—such as choosing official languages or medium of instruction in education—are central to macro-sociolinguistics, which examines language at the societal level."
  },
  {
    "question": "African American Vernacular English (AAVE) is primarily studied in sociolinguistics as an example of variation linked to which social factor?",
    "options": [
      "Age",
      "Region",
      "Ethnicity",
      "Gender"
    ],
    "correct": 2,
    "feedback": "Correct! AAVE is a systematic, rule-governed variety associated with African American communities—making ethnicity a key social variable in its study."
  },
  {
    "question": "What does 'style-shifting' refer to in micro-sociolinguistics?",
    "options": [
      "Changing clothing to match conversation partners",
      "Switching between languages in bilingual communities",
      "Adjusting speech style (e.g., formality) based on context or audience",
      "Translating literature into different dialects"
    ],
    "correct": 2,
    "feedback": "Correct! Style-shifting is when speakers modify their language (e.g., pronunciation, grammar) depending on setting—such as speaking more formally in a job interview than with friends."
  },
  {
    "question": "Which statement best captures the sociolinguistic view of language variation?",
    "options": [
      "Variation indicates poor education or laziness",
      "All variation is random and meaningless",
      "Variation is systematic, socially meaningful, and inherent to language",
      "Only standard varieties are legitimate"
    ],
    "correct": 2,
    "feedback": "Correct! Sociolinguistics rejects the idea that non-standard varieties are 'incorrect.' Instead, it shows that variation follows patterns and expresses social meaning—such as solidarity, identity, or power."
  },
  {
    "question": "In England, differences in the pronunciation of 'house' (e.g., /haʊs/ vs. /hʊs/) are often linked to which social factor?",
    "options": [
      "Gender",
      "Age",
      "Social class",
      "Ethnicity"
    ],
    "correct": 2,
    "feedback": "Correct! William Labov and others showed that pronunciation features like vowel quality in 'house' correlate strongly with social class—making it a classic example of class-based linguistic variation."
  },
  {
    "question": "Which of the following is a key concern of macro-sociolinguistics?",
    "options": [
      "How individuals use politeness markers in emails",
      "Why certain languages become dominant or face extinction",
      "The frequency of tag questions in classroom discourse",
      "Phonetic differences between bilingual speakers"
    ],
    "correct": 1,
    "feedback": "Correct! Macro-sociolinguistics examines large-scale issues like language shift, maintenance, death, and the global spread of English—focusing on societal forces rather than individual speech."
  }
] 
            
        






















        const trueFalseQuestions = 
        [
  {
    "question": "Sociolinguistics studies the relationship between language and society.",
    "options": ["True", "False"],
    "correct": 0,
    "feedback": "True! Sociolinguistics is a sub-branch of linguistics that investigates how social factors—such as age, gender, class, ethnicity, and region—influence language use, variation, and change."
  },
  {
    "question": "William Labov argued that the individual speaker is more important than the speech community in shaping language.",
    "options": ["True", "False"],
    "correct": 1,
    "feedback": "False! Labov (2010) stated, 'The community is prior to the individual,' emphasizing that linguistic norms emerge from collective social practice, not individual choice."
  },
  {
    "question": "Dell Hymes introduced the concept of 'communicative competence,' which includes knowledge of social and contextual rules for language use.",
    "options": ["True", "False"],
    "correct": 0,
    "feedback": "True! Hymes argued that knowing a language involves more than grammar—it requires understanding when, where, and how to speak appropriately in social contexts."
  },
  {
    "question": "Basil Bernstein’s 'restricted code' is considered linguistically inferior to the 'elaborated code'.",
    "options": ["True", "False"],
    "correct": 1,
    "feedback": "False! Bernstein did not claim one code is better. He observed that the restricted code relies on shared context (common in close groups), while the elaborated code is more explicit—often favored in formal education, but both are valid."
  },
  {
    "question": "Charles Ferguson coined the term 'diglossia' to describe the functional coexistence of two language varieties in a society.",
    "options": ["True", "False"],
    "correct": 0,
    "feedback": "True! Ferguson used 'diglossia' to describe stable situations where two varieties (e.g., Classical and colloquial Arabic) serve distinct social functions—High (H) for formal/religious use, Low (L) for everyday talk."
  },
  {
    "question": "Micro-sociolinguistics focuses on large-scale societal patterns like language policy and globalization.",
    "options": ["True", "False"],
    "correct": 1,
    "feedback": "False! Micro-sociolinguistics studies individual speakers and face-to-face interaction (e.g., gender and tag questions). Macro-sociolinguistics deals with large-scale issues like language planning and English as a global lingua franca."
  },
  {
    "question": "Joshua Fishman’s work primarily addresses language maintenance and multilingualism in societal contexts.",
    "options": ["True", "False"],
    "correct": 0,
    "feedback": "True! Fishman studied how minority languages survive or decline, focusing on language planning, policy, and the conditions necessary for language maintenance in multilingual societies."
  },
  {
    "question": "A 'speech community' is defined solely by geographic boundaries and national language.",
    "options": ["True", "False"],
    "correct": 1,
    "feedback": "False! A speech community is a group that shares not just a language, but norms for its use—such as doctors using medical jargon or gamers using in-group slang—regardless of location."
  },
  {
    "question": "Language variation is random and indicates a speaker’s lack of competence.",
    "options": ["True", "False"],
    "correct": 1,
    "feedback": "False! Sociolinguistics shows that variation is systematic, rule-governed, and socially meaningful—it reflects identity, context, and community norms, not deficiency."
  },
  {
    "question": "John Gumperz focused on interactional sociolinguistics and how conversational cues can lead to cross-cultural misunderstandings.",
    "options": ["True", "False"],
    "correct": 0,
    "feedback": "True! Gumperz showed that miscommunication often arises not from grammar errors, but from differing interpretations of interactional signals like intonation, silence, or topic shifts."
  },
  {
    "question": "The use of 'soda,' 'pop,' or 'coke' in different U.S. regions is an example of age-based linguistic variation.",
    "options": ["True", "False"],
    "correct": 1,
    "feedback": "False! This is a classic example of **regional** variation—lexical differences tied to geography, not age. Age-based variation would involve generational slang like 'lit' or 'rizz.'"
  },
  {
    "question": "Whitney (1867) argued that speech is a personal possession shaped by individual creativity.",
    "options": ["True", "False"],
    "correct": 1,
    "feedback": "False! Whitney stated, 'Speech is not a personal possession, but a social; it belongs to the member of society,' highlighting language as a collective, social phenomenon—not individual property."
  },
  {
    "question": "In sociolinguistics, African American Vernacular English (AAVE) is viewed as a deficient form of English.",
    "options": ["True", "False"],
    "correct": 1,
    "feedback": "False! Sociolinguistics treats AAVE as a systematic, rule-governed dialect tied to ethnicity and identity—not as 'broken' English. It has its own grammar, phonology, and social functions."
  },
  {
    "question": "Style-shifting refers to a speaker’s ability to adjust their language based on social context, such as formality or audience.",
    "options": ["True", "False"],
    "correct": 0,
    "feedback": "True! Style-shifting is a key concept in micro-sociolinguistics—e.g., using more standard forms in a job interview versus casual speech with friends."
  },
  {
    "question": "Macro-sociolinguistics would study why women use more tag questions than men in conversation.",
    "options": ["True", "False"],
    "correct": 1,
    "feedback": "False! That’s a micro-sociolinguistic question about individual speech patterns. Macro-sociolinguistics examines large-scale issues like language death, policy, or national identity."
  },
  {
    "question": "Language variation plays no role in language change over time.",
    "options": ["True", "False"],
    "correct": 1,
    "feedback": "False! Variation is the engine of language change. When certain variants (e.g., new pronunciations or grammatical forms) spread through a community, they can become the new norm over generations."
  },
  {
    "question": "Basil Bernstein’s theory suggests that working-class children are linguistically disadvantaged because they primarily use the restricted code.",
    "options": ["True", "False"],
    "correct": 0,
    "feedback": "True! Bernstein observed that schools often value the elaborated code, which working-class children may not be exposed to at home—potentially putting them at an educational disadvantage, though not due to cognitive deficit."
  },
  {
    "question": "Diglossia only occurs in bilingual countries with two official languages.",
    "options": ["True", "False"],
    "correct": 1,
    "feedback": "False! Diglossia can occur within a single language (e.g., Arabic with Classical vs. colloquial varieties) or between languages (e.g., French and Haitian Creole). It’s about functional separation, not just bilingualism."
  },
  {
    "question": "William Labov’s research showed that social class has no measurable effect on pronunciation in English.",
    "options": ["True", "False"],
    "correct": 1,
    "feedback": "False! Labov’s famous NYC department store study demonstrated clear correlations between social class and pronunciation (e.g., rhoticity in 'fourth floor'), proving class influences linguistic variation."
  },
  {
    "question": "Sociolinguistics views language as a fixed, unchanging system governed only by grammatical rules.",
    "options": ["True", "False"],
    "correct": 1,
    "feedback": "False! Sociolinguistics sees language as dynamic, variable, and deeply embedded in social life—shaped by identity, power, context, and community norms, not just abstract rules."
  }
]
        


        // ===== GAME STATE =====
        let currentQuestionIndex = 0;
        let score = 0;
        let gameMode = 'mcq';
        let timer;
        let timeLeft = 60;
        let answered = false;
        let selectedOption = null;
        let currentQuestions = [];

        // DOM elements
        const questionText = document.getElementById('question-text');
        const gameContent = document.getElementById('game-content');
        const feedbackElement = document.getElementById('feedback');
        const nextBtn = document.getElementById('next-btn');
        const resetBtn = document.getElementById('reset-btn');
        const scoreValue = document.getElementById('score-value');
        const timeValue = document.getElementById('time-value');
        const progressBar = document.getElementById('progress-bar');
        const modeBtns = document.querySelectorAll('.mode-btn');
        const mistakesSection = document.getElementById('mistakes-section');

        // Shuffle array function (Fisher-Yates algorithm)
        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        // Select random subset of questions
        function getRandomQuestions(questions, count = null) {
            const shuffled = shuffleArray(questions);
            if (count && count < questions.length) {
                return shuffled.slice(0, count);
            }
            return shuffled;
        }

        // Get current question set (randomized)
        function getCurrentQuestionSet() {
            if (gameMode === 'mcq') return getRandomQuestions(mcqQuestions, 5);
            if (gameMode === 'true-false') return getRandomQuestions(trueFalseQuestions, 5);
            return [];
        }

        // Initialize game
        function initGame() {
            currentQuestionIndex = 0;
            score = 0;
            timeLeft = 60;
            answered = false;
            selectedOption = null;
            
            // Get randomized questions for this session
            currentQuestions = getCurrentQuestionSet();
            
            scoreValue.textContent = score;
            timeValue.textContent = timeLeft;
            updateProgressBar();
            showQuestion();
            startTimer();
            mistakesSection.classList.remove('show');
            nextBtn.disabled = true;
        }

        // Start timer
        function startTimer() {
            clearInterval(timer);
            timer = setInterval(() => {
                timeLeft--;
                timeValue.textContent = timeLeft;
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    if (!answered) {
                        handleTimeUp();
                    }
                }
            }, 1000);
        }

        // Handle time up
        function handleTimeUp() {
            answered = true;
            feedbackElement.innerHTML = `<i class="fas fa-hourglass-end" style="color: var(--warning);"></i> Time's up!`;
            feedbackElement.className = "feedback show";
            nextBtn.disabled = false;
        }

        // Update progress bar
        function updateProgressBar() {
            const progress = ((currentQuestionIndex) / currentQuestions.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // Show current question based on mode
        function showQuestion() {
            if (currentQuestionIndex >= currentQuestions.length) {
                endGame();
                return;
            }
            
            const q = currentQuestions[currentQuestionIndex];
            questionText.textContent = q.question;
            feedbackElement.className = 'feedback';
            gameContent.innerHTML = '';
            answered = false;
            nextBtn.disabled = true;
            
            renderMCQ(q);
        }

        // Render MCQ/True-False
        function renderMCQ(q) {
            const optionsContainer = document.createElement('div');
            optionsContainer.className = 'answer-options';
            
            // For MCQ, shuffle options but keep track of correct answer
            let displayOptions = [...q.options];
            let correctIndex = q.correct;
            
            if (gameMode === 'mcq') {
                // Create a copy with indices
                let indexedOptions = q.options.map((opt, i) => ({text: opt, originalIndex: i}));
                // Shuffle
                indexedOptions = shuffleArray(indexedOptions);
                // Update display
                displayOptions = indexedOptions.map(item => item.text);
                correctIndex = indexedOptions.findIndex(item => item.originalIndex === q.correct);
            }
            
            displayOptions.forEach((option, index) => {
                const optionEl = document.createElement('div');
                optionEl.className = 'option';
                optionEl.textContent = option;
                optionEl.addEventListener('click', () => selectMCQOption(index, correctIndex, q));
                optionsContainer.appendChild(optionEl);
            });
            
            gameContent.appendChild(optionsContainer);
        }

        // Handle MCQ option selection
        function selectMCQOption(selectedIndex, correctIndex, q) {
            if (answered) return;
            
            answered = true;
            clearInterval(timer);
            
            const options = gameContent.querySelectorAll('.option');
            options.forEach((opt, i) => {
                if (i === selectedIndex) {
                    opt.classList.add(selectedIndex === correctIndex ? 'correct' : 'incorrect');
                }
                if (i === correctIndex) {
                    opt.classList.add('correct');
                }
            });
            
            if (selectedIndex === correctIndex) {
                score++;
                scoreValue.textContent = score;
                feedbackElement.innerHTML = `<i class="fas fa-check-circle" style="color: var(--success);"></i> ${q.feedback}`;
            } else {
                feedbackElement.innerHTML = `<i class="fas fa-times-circle" style="color: var(--accent);"></i> ${q.feedback}`;
            }
            
            feedbackElement.className = 'feedback show';
            nextBtn.disabled = false;
            
            if (currentQuestionIndex === 0) {
                setTimeout(() => {
                    mistakesSection.classList.add('show');
                }, 1500);
            }
        }

        // Move to next question or end game
        function nextQuestion() {
            currentQuestionIndex++;
            
            if (currentQuestionIndex < currentQuestions.length) {
                timeLeft = 60;
                timeValue.textContent = timeLeft;
                showQuestion();
                startTimer();
            } else {
                endGame();
            }
            
            updateProgressBar();
        }

        // End game
        function endGame() {
            questionText.textContent = `Game Completed! Your final score is ${score}/${currentQuestions.length}`;
            gameContent.innerHTML = '';
            feedbackElement.innerHTML = `<i class="fas fa-trophy" style="color: var(--success);"></i> Great job! You completed ${currentQuestions.length} random questions. Review the revision checklist above.`;
            feedbackElement.className = 'feedback show';
            nextBtn.disabled = true;
            clearInterval(timer);
        }

        // Event listeners
        nextBtn.addEventListener('click', nextQuestion);
        resetBtn.addEventListener('click', initGame);
        
        modeBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                modeBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                gameMode = btn.dataset.mode;
                initGame();
            });
        });

        // Initialize
        window.addEventListener('load', initGame);
    </script>
</body>
</html>
