<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SLA Revision Game</title>
    <link rel="stylesheet" href="../css/style4.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h3>SLA</h3>
        </header>
         <a href="../module6/lesson-one.html" class="back-to-lesson-btn">Back to lesson</a>

        
        <div class="game-info">
            <div><i class="fas fa-star"></i> Score: <span id="score-value">0</span></div>
            <div><i class="fas fa-clock"></i> Time: <span id="time-value">60</span>s</div>
        </div>
        
        <div class="game-container">
            <div class="mode-selector">
                <button class="mode-btn active" data-mode="mcq">Multiple Choice</button>
                <button class="mode-btn" data-mode="true-false">True/False</button>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            
            <div class="question-card">
                <div class="question" id="question-text">Loading question...</div>
                <div id="game-content">
                    <!-- Dynamic content will go here -->
                </div>
                <div class="feedback" id="feedback"></div>
            </div>
            
            <div class="controls">
                <button class="btn next-btn" id="next-btn" disabled>Next Question</button>
                <button class="btn reset-btn" id="reset-btn">Reset Game</button>
            </div>
            

            

        </div>
        
        <footer>
            <p>Second language acquisition</p>
        </footer>
    </div>

    <script>
        // ===== QUESTION BANK =====
        const mcqQuestions = 
        [
  {
    "question": "Which component of language studies sound systems?",
    "options": [
      "Morphology",
      "Syntax",
      "Phonology",
      "Semantics"
    ],
    "correct": 2,
    "feedback": " Phonology examines the inventory and patterns of sounds in a language (e.g., why 'ng' can end English words but not start them)."
  },
  {
    "question": "In SLA, what does 'L2' typically refer to?",
    "options": [
      "Only the second language ever learned",
      "Any language learned after the first language (L1)",
      "A language spoken in a foreign country",
      "A language learned only through formal instruction"
    ],
    "correct": 1,
    "feedback": " L2 is a broad term for **any post-L1 language**, regardless of order or context (e.g., a trilingual person’s third language is still an L2 in research)."
  },
  {
    "question": "Which linguistic component governs sentence structure and word order?",
    "options": [
      "Phonology",
      "Morphology",
      "Syntax",
      "Pragmatics"
    ],
    "correct": 2,
    "feedback": " Syntax determines how words combine into grammatical sentences (e.g., Subject-Verb-Object in English vs. Subject-Object-Verb in Japanese)."
  },
  {
    "question": "What is the main focus of pragmatics?",
    "options": [
      "Word formation",
      "Sound patterns",
      "Literal sentence meaning",
      "Language use in context and social appropriateness"
    ],
    "correct": 3,
    "feedback": " Pragmatics studies how context, speaker intention, and social norms shape meaning—e.g., recognizing a request in 'Can you pass the salt?'"
  },
  {
    "question": "According to Noam Chomsky, what is Universal Grammar (UG)?",
    "options": [
      "A set of rules for teaching grammar",
      "An innate, biological language faculty shared by all humans",
      "A method for learning vocabulary",
      "A theory about writing systems"
    ],
    "correct": 1,
    "feedback": " Chomsky proposed UG as an inborn 'language acquisition device' that allows children to learn complex grammar from limited input."
  },
  {
    "question": "Which UG position claims that L2 learners have full access to Universal Grammar?",
    "options": [
      "No Access",
      "Indirect Access",
      "Direct Access",
      "Partial Access"
    ],
    "correct": 2,
    "feedback": " 'Direct Access' asserts that UG remains fully available for L2 acquisition, just as it was for L1."
  },
  {
    "question": "Which SLA approach emphasizes cognitive processes like memory and attention?",
    "options": [
      "Linguistic",
      "Psychological",
      "Sociocultural",
      "Functional"
    ],
    "correct": 1,
    "feedback": " Psychological approaches investigate the mental mechanisms of learning—e.g., how input is processed, stored, and retrieved."
  },
  {
    "question": "What does 'acquisition' mean in SLA?",
    "options": [
      "Memorizing grammar rules",
      "Developing language ability through natural exposure and use",
      "Passing a language exam",
      "Translating texts"
    ],
    "correct": 1,
    "feedback": " Acquisition is subconscious and usage-driven (like L1), contrasting with conscious 'learning' of explicit rules."
  },
  {
    "question": "Which SLA approach focuses on language as a tool for communication and meaning-making?",
    "options": [
      "Linguistic",
      "Psychological",
      "Sociocultural",
      "Functional"
    ],
    "correct": 3,
    "feedback": " Functional approaches prioritize communicative needs, discourse functions, and how learners express meaning in real interactions."
  },
  {
    "question": "What does morphology study?",
    "options": [
      "Sound combinations",
      "Word formation from morphemes",
      "Sentence construction",
      "Contextual meaning"
    ],
    "correct": 1,
    "feedback": " Morphology analyzes how morphemes (e.g., prefixes, roots, suffixes) combine to create words—like 'un-believ-able'."
  },
  {
    "question": "Which UG position argues that Universal Grammar is inaccessible after a critical period?",
    "options": [
      "Direct Access",
      "No Access",
      "Indirect Access",
      "Partial Access"
    ],
    "correct": 1,
    "feedback": " 'No Access' is linked to the Critical Period Hypothesis—suggesting UG shuts down after puberty, limiting L2 ultimate attainment."
  },
  {
    "question": "What is 'phenomena language' in SLA research?",
    "options": [
      "Theoretical models of grammar",
      "Observable aspects of learner language, including errors and patterns",
      "Native speaker intuitions",
      "Historical language change"
    ],
    "correct": 1,
    "feedback": " Phenomena language is the empirical data—what learners actually produce and comprehend during acquisition."
  },
  {
    "question": "How do sociocultural approaches view language learning?",
    "options": [
      "As an individual cognitive process",
      "As a result of innate grammar activation",
      "As socially mediated through interaction and collaboration",
      "As memorization of vocabulary lists"
    ],
    "correct": 2,
    "feedback": " Drawing on Vygotsky, sociocultural theory sees learning as co-constructed through dialogue, scaffolding, and participation in communities of practice."
  },
  {
    "question": "Which term refers to the study of literal meaning in language?",
    "options": [
      "Phonology",
      "Morphology",
      "Semantics",
      "Pragmatics"
    ],
    "correct": 2,
    "feedback": " Semantics deals with truth conditions and word/sentence meaning independent of context (e.g., 'dog' refers to a canine animal)."
  },
  {
    "question": "What distinguishes L2 learning from foreign language learning?",
    "options": [
      "L2 is always easier",
      "L2 occurs in naturalistic settings where the language is used; foreign language is typically classroom-based",
      "Foreign languages have no grammar",
      "L2 learners are always children"
    ],
    "correct": 1,
    "feedback": " An L2 is often acquired in immersive environments (e.g., immigrants in English-speaking countries), while foreign languages are learned in formal, non-immersive settings."
  },
  {
    "question": "Which UG position suggests L2 learners access Universal Grammar through their L1?",
    "options": [
      "Direct Access",
      "No Access",
      "Indirect Access",
      "Partial Access"
    ],
    "correct": 2,
    "feedback": " 'Indirect Access' proposes that UG is not directly available for L2, but its principles can be reactivated via the learner’s first language."
  },
  {
    "question": "What is a key goal of SLA theory construction and assessment?",
    "options": [
      "To replace all teaching methods",
      "To build and test theories against empirical evidence",
      "To prove one theory is superior forever",
      "To eliminate learner errors"
    ],
    "correct": 1,
    "feedback": " Theories must be logically sound **and** empirically testable—subject to validation, revision, or rejection based on data."
  },
  {
    "question": "Which approach would study how children learn question formation through input and hypothesis testing?",
    "options": [
      "Sociocultural",
      "Linguistic (UG-based)",
      "Functional",
      "Phonological"
    ],
    "correct": 1,
    "feedback": " Linguistic approaches, especially UG-oriented ones, investigate how innate constraints interact with input to shape grammatical development."
  },
  {
    "question": "What does the 'Partial Access' UG position claim?",
    "options": [
      "UG is fully available for L2",
      "UG is completely unavailable after childhood",
      "Only some UG principles remain accessible for L2 learners",
      "UG is irrelevant to SLA"
    ],
    "correct": 2,
    "feedback": " This view suggests a nuanced role for UG—some parameters or principles may still operate, while others do not."
  },
  {
    "question": "Which of the following best describes the scope of SLA research?",
    "options": [
      "Only grammar errors",
      "Observable phenomena, theoretical explanations, and empirical validation across linguistic, cognitive, and social dimensions",
      "Exclusively classroom teaching methods",
      "Historical origins of languages"
    ],
    "correct": 1,
    "feedback": " SLA is a multidisciplinary field examining how, why, and under what conditions people acquire additional languages—integrating theory, data, and critique."
  }
]

        const trueFalseQuestions = 
        [
  {
    "question": "Phonology refers to the rules for forming words from smaller meaningful units.",
    "options": ["True", "False"],
    "correct": 1,
    "feedback": " Phonology is the study of **sound systems** in language. Morphology deals with word formation from morphemes (e.g., 'un-happy-ness')."
  },
  {
    "question": "In SLA, 'second language' refers only to the second language a person learns, not third or fourth languages.",
    "options": ["True", "False"],
    "correct": 1,
    "feedback": " 'Second language' (L2) is a general term for **any language learned after the first language (L1)**, including third, fourth, etc."
  },
  {
    "question": "Semantics is the study of how context affects meaning in communication.",
    "options": ["True", "False"],
    "correct": 1,
    "feedback": " **Semantics** deals with literal, context-independent meaning of words and sentences. **Pragmatics** studies how context, intention, and social factors shape meaning (e.g., sarcasm)."
  },
  {
    "question": "Language acquisition refers to developing language ability through natural exposure and use, rather than formal instruction.",
    "options": ["True", "False"],
    "correct": 0,
    "feedback": " Acquisition is subconscious and usage-based (like L1 learning), distinct from conscious 'learning' through rules and drills."
  },
  {
    "question": "Universal Grammar (UG) is Noam Chomsky’s theory that humans are born with innate knowledge of language principles.",
    "options": ["True", "False"],
    "correct": 0,
    "feedback": " Chomsky proposed that UG provides a biological foundation for language, explaining why children acquire complex grammar rapidly with limited input."
  },
  {
    "question": "The 'No Access' position in UG theory claims that L2 learners have full access to Universal Grammar throughout life.",
    "options": ["True", "False"],
    "correct": 1,
    "feedback": " 'No Access' argues that UG is **inaccessible after a critical period** (e.g., puberty). 'Direct Access' claims full availability."
  },
  {
    "question": "Linguistic approaches to SLA focus primarily on social interaction and cultural context.",
    "options": ["True", "False"],
    "correct": 1,
    "feedback": " **Linguistic approaches** focus on language structure and UG. **Sociocultural approaches** emphasize social interaction and cultural context."
  },
  {
    "question": "Pragmatics involves understanding how language is used appropriately in different social situations.",
    "options": ["True", "False"],
    "correct": 0,
    "feedback": " Pragmatics covers speech acts, politeness, indirectness, and context—e.g., knowing when to say 'Could you...?' vs. 'Give me...'"
  },
  {
    "question": "Syntax is the study of how sounds combine to form words.",
    "options": ["True", "False"],
    "correct": 1,
    "feedback": " **Syntax** governs sentence structure (word order, agreement). **Phonology** studies sounds; **morphology** studies how sounds/letters form words."
  },
  {
    "question": "SLA theories aim to explain both observable language phenomena and the underlying cognitive processes.",
    "options": ["True", "False"],
    "correct": 0,
    "feedback": " SLA research examines **phenomena language** (e.g., errors, patterns) and provides **explanations** for how and why acquisition occurs."
  },
  {
    "question": "The 'Indirect Access' UG position suggests that L2 learners access Universal Grammar only through their L1.",
    "options": ["True", "False"],
    "correct": 0,
    "feedback": " This view holds that UG is not directly available for L2, but its principles can be activated via the learner’s first language knowledge."
  },
  {
    "question": "Functional approaches to SLA focus on how language is used to meet communication needs.",
    "options": ["True", "False"],
    "correct": 0,
    "feedback": " Functional approaches prioritize purpose, meaning, and communicative competence over grammatical form."
  },
  {
    "question": "Morphology studies the rules for combining words into sentences.",
    "options": ["True", "False"],
    "correct": 1,
    "feedback": " **Morphology** studies how morphemes (smallest meaningful units) form words (e.g., 're-writ-ing'). **Syntax** governs sentence formation."
  },
  {
    "question": "Psychological approaches to SLA examine cognitive processes like memory, attention, and learning mechanisms.",
    "options": ["True", "False"],
    "correct": 0,
    "feedback": " These approaches investigate mental processes underlying SLA, such as input processing, automatization, and working memory."
  },
  {
    "question": "A 'foreign language' and a 'second language' are always learned in identical contexts.",
    "options": ["True", "False"],
    "correct": 1,
    "feedback": " L2 is often learned in **naturalistic settings** where the language is spoken (e.g., immigrants). Foreign languages are typically learned in **classrooms** with limited exposure."
  },
  {
    "question": "The 'Partial Access' UG position claims that some but not all UG principles remain available for L2 acquisition.",
    "options": ["True", "False"],
    "correct": 0,
    "feedback": " This middle-ground view suggests UG is neither fully accessible nor completely unavailable—certain parameters may still operate."
  },
  {
    "question": "Phenomena language in SLA includes observable errors, developmental sequences, and learner patterns.",
    "options": ["True", "False"],
    "correct": 0,
    "feedback": " Phenomena language refers to the empirical data of SLA—what learners actually say, write, and understand during acquisition."
  },
  {
    "question": "Sociocultural approaches ignore the role of social interaction in language learning.",
    "options": ["True", "False"],
    "correct": 1,
    "feedback": " Sociocultural approaches (e.g., Vygotskyan theory) place **social interaction at the core** of learning—through scaffolding, dialogue, and community participation."
  },
  {
    "question": "The study of meaning in language is called pragmatics.",
    "options": ["True", "False"],
    "correct": 1,
    "feedback": " The study of **literal meaning** is **semantics**. Pragmatics deals with **implied, contextual meaning** (e.g., 'It’s cold in here' as a request to close the window)."
  },
  {
    "question": "SLA theory construction involves building, testing, and evaluating theoretical models against empirical data.",
    "options": ["True", "False"],
    "correct": 0,
    "feedback": " The 'Construction and Assessment' component ensures theories are not just logical but also empirically supported and falsifiable."
  }
]


         // ===== GAME STATE =====
        let currentQuestionIndex = 0;
        let score = 0;
        let gameMode = 'mcq';
        let timer;
        let timeLeft = 60;
        let answered = false;
        let selectedOption = null;
        let currentQuestions = [];

        // DOM elements
        const questionText = document.getElementById('question-text');
        const gameContent = document.getElementById('game-content');
        const feedbackElement = document.getElementById('feedback');
        const nextBtn = document.getElementById('next-btn');
        const resetBtn = document.getElementById('reset-btn');
        const scoreValue = document.getElementById('score-value');
        const timeValue = document.getElementById('time-value');
        const progressBar = document.getElementById('progress-bar');
        const modeBtns = document.querySelectorAll('.mode-btn');
        const mistakesSection = document.getElementById('mistakes-section');

        // Shuffle array function (Fisher-Yates algorithm)
        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        // Select random subset of questions
        function getRandomQuestions(questions, count = null) {
            const shuffled = shuffleArray(questions);
            if (count && count < questions.length) {
                return shuffled.slice(0, count);
            }
            return shuffled;
        }

        // Get current question set (randomized)
        function getCurrentQuestionSet() {
            if (gameMode === 'mcq') return getRandomQuestions(mcqQuestions, 5);
            if (gameMode === 'true-false') return getRandomQuestions(trueFalseQuestions, 5);
            return [];
        }

        // Initialize game
        function initGame() {
            currentQuestionIndex = 0;
            score = 0;
            timeLeft = 60;
            answered = false;
            selectedOption = null;
            
            // Get randomized questions for this session
            currentQuestions = getCurrentQuestionSet();
            
            scoreValue.textContent = score;
            timeValue.textContent = timeLeft;
            updateProgressBar();
            showQuestion();
            startTimer();
            mistakesSection.classList.remove('show');
            nextBtn.disabled = true;
        }

        // Start timer
        function startTimer() {
            clearInterval(timer);
            timer = setInterval(() => {
                timeLeft--;
                timeValue.textContent = timeLeft;
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    if (!answered) {
                        handleTimeUp();
                    }
                }
            }, 1000);
        }

        // Handle time up
        function handleTimeUp() {
            answered = true;
            feedbackElement.innerHTML = `<i class="fas fa-hourglass-end" style="color: var(--warning);"></i> Time's up!`;
            feedbackElement.className = "feedback show";
            nextBtn.disabled = false;
        }

        // Update progress bar
        function updateProgressBar() {
            const progress = ((currentQuestionIndex) / currentQuestions.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // Show current question based on mode
        function showQuestion() {
            if (currentQuestionIndex >= currentQuestions.length) {
                endGame();
                return;
            }
            
            const q = currentQuestions[currentQuestionIndex];
            questionText.textContent = q.question;
            feedbackElement.className = 'feedback';
            gameContent.innerHTML = '';
            answered = false;
            nextBtn.disabled = true;
            
            renderMCQ(q);
        }

        // Render MCQ/True-False
        function renderMCQ(q) {
            const optionsContainer = document.createElement('div');
            optionsContainer.className = 'answer-options';
            
            // For MCQ, shuffle options but keep track of correct answer
            let displayOptions = [...q.options];
            let correctIndex = q.correct;
            
            if (gameMode === 'mcq') {
                // Create a copy with indices
                let indexedOptions = q.options.map((opt, i) => ({text: opt, originalIndex: i}));
                // Shuffle
                indexedOptions = shuffleArray(indexedOptions);
                // Update display
                displayOptions = indexedOptions.map(item => item.text);
                correctIndex = indexedOptions.findIndex(item => item.originalIndex === q.correct);
            }
            
            displayOptions.forEach((option, index) => {
                const optionEl = document.createElement('div');
                optionEl.className = 'option';
                optionEl.textContent = option;
                optionEl.addEventListener('click', () => selectMCQOption(index, correctIndex, q));
                optionsContainer.appendChild(optionEl);
            });
            
            gameContent.appendChild(optionsContainer);
        }

        // Handle MCQ option selection
        function selectMCQOption(selectedIndex, correctIndex, q) {
            if (answered) return;
            
            answered = true;
            clearInterval(timer);
            
            const options = gameContent.querySelectorAll('.option');
            options.forEach((opt, i) => {
                if (i === selectedIndex) {
                    opt.classList.add(selectedIndex === correctIndex ? 'correct' : 'incorrect');
                }
                if (i === correctIndex) {
                    opt.classList.add('correct');
                }
            });
            
            if (selectedIndex === correctIndex) {
                    score++;
                    scoreValue.textContent = score;
                    feedbackElement.innerHTML = `<i class="fas fa-check-circle" style="color: var(--success);"></i> Correct! ${q.feedback}`;
                } else {
                    feedbackElement.innerHTML = `<i class="fas fa-times-circle" style="color: var(--accent);"></i> Incorrect. ${q.feedback}`;
                }
            feedbackElement.className = 'feedback show';
            nextBtn.disabled = false;
            
            if (currentQuestionIndex === 0) {
                setTimeout(() => {
                    mistakesSection.classList.add('show');
                }, 1500);
            }
        }

        // Move to next question or end game
        function nextQuestion() {
            currentQuestionIndex++;
            
            if (currentQuestionIndex < currentQuestions.length) {
                timeLeft = 60;
                timeValue.textContent = timeLeft;
                showQuestion();
                startTimer();
            } else {
                endGame();
            }
            
            updateProgressBar();
        }

        // End game
        function endGame() {
            questionText.textContent = `Game Completed! Your final score is ${score}/${currentQuestions.length}`;
            gameContent.innerHTML = '';
            feedbackElement.innerHTML = `<i class="fas fa-trophy" style="color: var(--success);"></i> Great job! You completed ${currentQuestions.length} random questions. Review the revision checklist above.`;
            feedbackElement.className = 'feedback show';
            nextBtn.disabled = true;
            clearInterval(timer);
        }

        // Event listeners
        nextBtn.addEventListener('click', nextQuestion);
        resetBtn.addEventListener('click', initGame);
        
        modeBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                modeBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                gameMode = btn.dataset.mode;
                initGame();
            });
        });

        // Initialize
        window.addEventListener('load', initGame);
    </script>
</body>
</html>       

        
